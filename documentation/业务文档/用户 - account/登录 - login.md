# 登录

1、登录失败提示失败信息，登录失败有以下几种情况：

| level |      说明        |
| ----- | --------------- |
|   1   |  |
|   2   | 表示云pos数据库中没有此用户，但其它系统中有此用户（比如订货易），此时需要弹出模态框询问用户要注册哪个版本（单店、连锁），调用登录接口时需要多传一个version字段，登录成功后会自动注册为云pos的会员 |
|   3   | 服务器异常 |
|   4   | 服务门店超过了总门店数，弹框让用户选择要留下的门店 |
|   5   | 服务过期，弹框询问用户是否购买 |
|   6   | 登录失败，且返回失败的次数 |
|   7   | 登录成功，但需要弹框提示服务即将到期，提醒用户及时购买 |
|   8   | |
|   9   | |
|   10  | 登录成功，跳转到首页 |

2、常规登录失败后（level = 6），会返回失败次数，当次数 >= 3，需要将识别码输入框显示出来，同时也需要将此时的时间保存到本地，下次进入时判定当前时间与失败时间相隔是否大于3分钟，是则隐藏识别码输入框，否则显示

3、登录成功后，要将用户名、企业号、登录方式记住，如果勾选了记住密码，那么也需要记住密码，下次进入登录页时要保持与上一次登录成功后的状态，如果使用演示账号登录的，不需要记住任何信息

4、登录成功后，后台会返回url（单点登录）和token，跳转到此url并将token通过查询参数传过去